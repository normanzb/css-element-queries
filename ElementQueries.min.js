!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.ElementQueries=b()}(this,function(){var a=function(){function a(){this.q=[],this.add=function(a){this.q.push(a)};var a,b;this.call=function(){for(a=0,b=this.q.length;b>a;a++)this.q[a].call()}}function b(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue(b):a.style[b]}function c(c,d){if(c.resizedAttached){if(c.resizedAttached)return void c.resizedAttached.add(d)}else c.resizedAttached=new a,c.resizedAttached.add(d);c.resizeSensor=document.createElement("div"),c.resizeSensor.className="resize-sensor";var e="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",f="position: absolute; left: 0; top: 0;";c.resizeSensor.style.cssText=e,c.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+e+'"><div style="'+f+'"></div></div><div class="resize-sensor-shrink" style="'+e+'"><div style="'+f+' width: 200%; height: 200%"></div></div>',c.appendChild(c.resizeSensor),{fixed:1,absolute:1}[b(c,"position")]||(c.style.position="relative");var g,h,i=c.resizeSensor.childNodes[0],j=i.childNodes[0],k=c.resizeSensor.childNodes[1],l=(k.childNodes[0],function(){j.style.width=i.offsetWidth+10+"px",j.style.height=i.offsetHeight+10+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,k.scrollLeft=k.scrollWidth,k.scrollTop=k.scrollHeight,g=c.offsetWidth,h=c.offsetHeight});l();var m=function(){c.resizedAttached&&c.resizedAttached.call()},n=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c)};n(i,"scroll",function(){(c.offsetWidth>g||c.offsetHeight>h)&&m(),l()}),n(k,"scroll",function(){(c.offsetWidth<g||c.offsetHeight<h)&&m(),l()})}function d(a,b){if(this._element=a,"[object Array]"===Object.prototype.toString.call(a)||"undefined"!=typeof jQuery&&a instanceof jQuery||"undefined"!=typeof Elements&&a instanceof Elements)for(var d=0,e=a.length;e>d;d++)c(a[d],b);else c(a,b)}return d.prototype.detach=function(){return d.detach(this._element)},d.detach=function(a){a.resizeSensor&&(a.removeChild(a.resizeSensor),delete a.resizeSensor,delete a.resizedAttached)},d}(),b=function(a){var b=this.ElementQueries=function(){function c(a){a||(a=document.documentElement);var b=getComputedStyle(a,"fontSize");return parseFloat(b)||16}function d(a,b){var d=b.replace(/[0-9]*/,"");switch(b=parseFloat(b),d){case"px":return b;case"em":return b*c(a);case"rem":return b*c();case"vw":return b*document.documentElement.clientWidth/100;case"vh":return b*document.documentElement.clientHeight/100;case"vmin":case"vmax":var e=document.documentElement.clientWidth/100,f=document.documentElement.clientHeight/100,g=Math["vmin"===d?"min":"max"];return b*g(e,f);default:return b}}function e(a){this.element=a,this.options={};var b,c,e,f,g,h,i,j=0,k=0;this.addOption=function(a){var b=[a.mode,a.property,a.value].join(",");this.options[b]=a};var l=["min-width","min-height","max-width","max-height"];this.call=function(){j=this.element.offsetWidth,k=this.element.offsetHeight,g={};for(b in this.options)this.options.hasOwnProperty(b)&&(c=this.options[b],e=d(this.element,c.value),f="width"==c.property?j:k,i=c.mode+"-"+c.property,h="","min"==c.mode&&f>=e&&(h+=c.value),"max"==c.mode&&e>=f&&(h+=c.value),g[i]||(g[i]=""),h&&-1===(" "+g[i]+" ").indexOf(" "+h+" ")&&(g[i]+=" "+h));for(var a in l)g[l[a]]?this.element.setAttribute(l[a],g[l[a]].substr(1)):this.element.removeAttribute(l[a])}}function f(b,c){b.elementQueriesSetupInformation?b.elementQueriesSetupInformation.addOption(c):(b.elementQueriesSetupInformation=new e(b),b.elementQueriesSetupInformation.addOption(c),b.elementQueriesSensor=new a(b,function(){b.elementQueriesSetupInformation.call()})),b.elementQueriesSetupInformation.call(),this.withTracking&&j.push(b)}function g(a,b,c,d){var e;if(document.querySelectorAll&&(e=document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";for(var g=e(a),h=0,i=g.length;i>h;h++)f(g[h],{mode:b,property:c,value:d})}function h(a){var b;for(a=a.replace(/'/g,'"');null!==(b=k.exec(a));)5<b.length&&g(b[1]||b[5],b[2],b[3],b[4])}function i(a){var b="";if(a)if("string"==typeof a)a=a.toLowerCase(),(-1!==a.indexOf("min-width")||-1!==a.indexOf("max-width"))&&h(a);else for(var c=0,d=a.length;d>c;c++)1===a[c].type?(b=a[c].selectorText||a[c].cssText,-1!==b.indexOf("min-height")||-1!==b.indexOf("max-height")?h(b):(-1!==b.indexOf("min-width")||-1!==b.indexOf("max-width"))&&h(b)):4===a[c].type&&i(a[c].cssRules||a[c].rules)}this.withTracking=!1;var j=[],k=/,?([^,\n]*)\[[\s\t]*(min|max)-(width|height)[\s\t]*[~$\^]?=[\s\t]*"([^"]*)"[\s\t]*]([^\n\s\{]*)/gim;this.init=function(a){this.withTracking=a;for(var b=0,c=document.styleSheets.length;c>b;b++)i(document.styleSheets[b].cssText||document.styleSheets[b].cssRules||document.styleSheets[b].rules)},this.update=function(a){this.withTracking=a,this.init()},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready.";for(var a;a=j.pop();)b.detach(a);j=[]}};b.update=function(a){b.instance.update(a)},b.detach=function(a){a.elementQueriesSetupInformation?(a.elementQueriesSensor.detach(),delete a.elementQueriesSetupInformation,delete a.elementQueriesSensor,console.log("detached")):console.log("detached already",a)},b.withTracking=!1,b.init=function(){b.instance||(b.instance=new b),b.instance.init(b.withTracking)};var c=function(a){if(document.addEventListener&&document.addEventListener("DOMContentLoaded",a,!1),/KHTML|WebKit|iCab/i.test(navigator.userAgent))var b=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(a(),clearInterval(b))},10);window.onload=a};return window.addEventListener?window.addEventListener("load",b.init,!1):window.attachEvent("onload",b.init),c(b.init),b}(a);return b});